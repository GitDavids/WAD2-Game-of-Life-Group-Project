{% extends 'game_of_life/base.html' %}
{% load staticfiles %}
<link rel="stylesheet" href="style.css">
{% block title_block %}
    Initial State
{% endblock %}

{% block body_block %}
<div class="initial_state">
    <input type="button" value="Return to initial state" id="return" class="button">
    <input type="button" value="Play" id="playback" class="button">

    <h1 style="color:rgb(255, 255, 255);">{{state.name}} by <a href="{% url 'game_of_life:profile' state.author.username %}">{{state.author.username}}</a></h1>
    <canvas id="state"></canvas><br />
    {% if user.is_authenticated %}
    <form id="like_form" method="post" action="{% url 'game_of_life:like_state' user.username state.slug %}">
        {% csrf_token %}
        <input type="submit" value="like">
    </form>

    {% endif %}
    State name: {{state.name}}, Author:  {{state.author.username}}, Date created: {{state.date_created}}, Likes: {{state.likes}}, Views: {{state.views}}<br />
    Column count: {{state.col_count}}, row count is half that<br />

    <!-- {{state.state}} -->
    <!-- Slug: {{state.slug}}<br /> -->

    
    <script type="text/javascript">
        initial_state = JSON.parse('{{state.state}}');
        col_count = JSON.parse('{{state.col_count}}');
        console.log(col_count, "WOW");
        row_count = col_count / 2;    
    </script>
    <script src="{% static 'js/view_initial_state.js' %}"></script><br />
    <script>document.getElementById("profile").className = "active";</script>
</div>
{% endblock %}